================================================================================
                        MINI BANKING PLATFORM - TODO LIST
================================================================================
Updated against current codebase and Full-Stack Assessment.pdf

================================================================================
                              BACKEND (70% MUST HAVE)
================================================================================

[DONE] ✅ POST /auth/login - User login
[DONE] ✅ POST /auth/register - User registration + initial USD/EUR accounts
[DONE] ✅ GET /auth/me - Current user info + own accounts
[DONE] ✅ POST /transactions/transfer - Transfer between users (same currency)
[DONE] ✅ POST /transactions/exchange - Currency exchange within user's accounts
[DONE] ✅ GET /transactions - Pagination + `type` filter + user scoping
[DONE] ✅ Double-entry ledger implementation
[DONE] ✅ Deadlock prevention (ORDER BY id + FOR UPDATE)
[DONE] ✅ lock_timeout = 5s for concurrent operations

--------------------------------------------------------------------------------
                           BACKEND - TODO
--------------------------------------------------------------------------------

[ ] 1. Align GET /accounts with spec (own accounts)
       Current: /accounts returns OTHER users' accounts (for recipients)
       Requirement: /accounts should list current user's accounts + balances
       Options:
         - Change /accounts to return current user's accounts
         - Add new endpoint for recipients (e.g. /accounts/recipients)
       Files: backend/src/accounts/accounts.controller.ts
              backend/src/accounts/accounts.service.ts

[ ] 2. GET /accounts/:id/balance - Restrict to current user
       Current: no ownership check (any account ID works)
       Requirement: user should see only own balances
       Files: backend/src/accounts/accounts.controller.ts

[ ] 3. (Optional) Seed test users if you want pre-seeded accounts
       Not required because registration is implemented (Option A)
       If needed: add migration 007_seed_users.sql

================================================================================
                              FRONTEND (70% MUST HAVE)
================================================================================

[DONE] ✅ Authentication (login/register forms)
[DONE] ✅ Dashboard page with accounts list + balances
[DONE] ✅ Dashboard: latest 5 transactions (transfer + exchange)
[DONE] ✅ Transactions page with Exchange + Transfer forms
[DONE] ✅ Transaction history page with filter + pagination (/history)
[DONE] ✅ Navigation links updated (Dashboard / Transaction / History)

--------------------------------------------------------------------------------
                           FRONTEND - TODO
--------------------------------------------------------------------------------

[ ] 4. Exchange form: show rate + converted amount before submit
       Requirement: display exchange rate and converted amount (USD↔EUR)
       File: frontend/src/app/(pages)/transactions/page.tsx
       Note: backend uses fixed rate from DB (1 USD = 0.92 EUR)

[ ] 5. (Optional) Move/duplicate forms to Dashboard
       Spec places forms on Dashboard; currently in /transactions
       Decide whether to keep as-is and document in README

================================================================================
                         SHOULD HAVE (20%)
================================================================================

[ ] 6. Comprehensive error messages (backend validation)
       - Clear messages for insufficient funds
       - Clear messages for currency mismatch
       - Clear messages for invalid accounts

[ ] 7. Input validation (frontend)
       - Amount > 0
       - Amount <= balance
       - Required fields

[ ] 8. Transaction confirmation dialog before processing
       "Are you sure you want to transfer $100 to user@example.com?"

================================================================================
                          NICE TO HAVE (10%)
================================================================================

[ ] 9. README.md with setup instructions
       - Setup steps + env vars
       - User management approach (Option A: registration)
       - Design decisions + known limitations

[ ] 10. Docker setup (docker-compose.yml exists, verify it works)

[ ] 11. Unit tests for critical financial logic
       - Transfer ledger correctness
       - Exchange 4 ledger entries
       - Sum of ledger amounts = 0

[ ] 12. Swagger/OpenAPI docs
       - Add @ApiOperation / @ApiResponse where needed

[ ] 13. Balance reconciliation endpoint
       - GET /accounts/reconcile to verify ledger sum vs balances

================================================================================
                           PRIORITY ORDER
================================================================================

HIGH PRIORITY (Must complete):
1. #1  - Align GET /accounts with spec
2. #2  - Restrict /accounts/:id/balance to current user
3. #4  - Show exchange rate + converted amount in UI

MEDIUM PRIORITY:
4. #5  - Dashboard forms (if you want to match spec precisely)

LOW PRIORITY (if time permits):
5. #6-8  - Should have items
6. #9-13 - Nice to have items

================================================================================
                         CURRENT STATUS
================================================================================

Backend core logic: ~95% complete
  - Transfer: ✅ Done
  - Exchange: ✅ Done
  - Deadlock prevention: ✅ Done
  - Ledger entries: ✅ Done
  - /accounts spec alignment: ❌ TODO

Frontend: ~80% complete
  - Auth: ✅ Done
  - Dashboard: ✅ Done (balances + latest tx)
  - Transactions forms: ✅ Done (on /transactions)
  - History page: ✅ Done (on /history)
  - Exchange preview (rate + converted): ❌ TODO

================================================================================
